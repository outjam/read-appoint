# Валидация регистрационных данных

**Используется в сценариях:**
- [Заявка на подключение нового мерчанта *(Шаг 2)*](/docs/Личный%20кабинет/Прелогин-зона/Регистрация/Заявка%20на%20подключение.md)
- Редактирование данных юридического лица


## Правила обязательности и валидации полей

### 1. Тип юридического лица
- Обязательное поле.
- Выбирается только из доступного списка.

### 2. ИНН
- Обязательное поле для всех типов.
- Длина зависит от выбранного типа:
  - ООО / АО → 10 цифр
  - ИП / Самозанятый → 12 цифр
- Допускаются только цифры.

### 3. ОГРН / ОГРНИП
- Для ООО / АО — обязательное поле (длина: 13 цифр).
- Для ИП — обязательное поле (длина: 15 цифр, ОГРНИП).
- Для самозанятых поле отсутствует.
- Допускаются только цифры.

### 4. КПП
- Обязательно только для ООО и АО (длина: 9 цифр).
- Для ИП и самозанятых поле не отображается.
- Допускаются только цифры.

### 5. ФИО руководителя / владельца
- Обязательное поле для всех типов.
- Требования:
  - Корректное ФИО в формате 2–3 слов.
  - Только кириллица, пробелы, дефисы.
  - Длина от 5 до 100 символов.

### 6. Наименование юридического лица
- Обязательное для ООО и АО.
- Не отображается для ИП и самозанятых.
- Требования:
  - От 3 до 255 символов.
  - Допустимы буквы, цифры, кавычки, пробелы, дефисы.
  - Запрещены спецсимволы вне стандартного набора.

### 7. Юридический адрес
- Обязательное поле для всех типов.
- Требования:
  - Минимум 10 символов.
  - Допустимы буквы, цифры, пробелы, запятые, точки, дефисы.

---

### Итоговая матрица правил

| Поле                    | ООО       | АО        | ИП        | Самозанятый | Примечания                 |
|--------------------------|-----------|-----------|-----------|-------------|----------------------------|
| Тип юридического лица    | ✔️        | ✔️        | ✔️        | ✔️          | Выбор из списка            |
| ИНН                      | 10 цифр   | 10 цифр   | 12 цифр   | 12 цифр     | Всегда обязателен          |
| ОГРН / ОГРНИП            | 13 цифр   | 13 цифр   | 15 цифр   | ✖️          | Только цифры              |
| КПП                      | 9 цифр    | 9 цифр    | ✖️        | ✖️          | Только для юрлиц           |
| ФИО руководителя         | ✔️        | ✔️        | ✔️        | ✔️          | Кириллица, 2–3 слова      |
| Наименование юр.лица     | ✔️        | ✔️        | ✖️        | ✖️          | 3–255 символов             |
| Юридический адрес        | ✔️        | ✔️        | ✔️        | ✔️          | ≥10 символов               |

---

### Поведение формы при ошибках
- Если DeData не нашёл организацию — пользователь вводит все данные вручную.
- Если формат данных не соответствует требованиям — подсвечивается ошибка и переход к следующему шагу блокируется.
- Все данные должны быть валидными перед отправкой.
